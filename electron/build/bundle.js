var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}let d;function m(t){d=t}function $(t){(function(){if(!d)throw new Error("Function called outside component initialization");return d})().$$.on_mount.push(t)}const g=[],y=[],b=[],v=[],x=Promise.resolve();let _=!1;function E(t){b.push(t)}let k=!1;const w=new Set;function N(){if(!k){k=!0;do{for(let t=0;t<g.length;t+=1){const n=g[t];m(n),D(n.$$)}for(m(null),g.length=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];w.has(n)||(w.add(n),n())}b.length=0}while(g.length);for(;v.length;)v.pop()();_=!1,k=!1,w.clear()}}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const L=new Set;let S;function A(t,n){t&&t.i&&(L.delete(t),t.i(n))}function F(t,n,e,o){if(t&&t.o){if(L.has(t))return;L.add(t),S.c.push((()=>{L.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function C(t,n,o,i){const{fragment:u,on_mount:a,on_destroy:c,after_update:p}=t.$$;u&&u.m(n,o),i||E((()=>{const n=a.map(e).filter(s);c?c.push(...n):r(n),t.$$.on_mount=[]})),p.forEach(E)}function j(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function T(t,n){-1===t.$$.dirty[0]&&(g.push(t),_||(_=!0,x.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function O(n,e,s,i,u,a,p,l=[-1]){const f=d;m(n);const h=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:o(),dirty:l,skip_bound:!1,root:e.target||f.$$.root};p&&p(h.root);let $=!1;if(h.ctx=s?s(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),$&&T(n,t)),e})):[],h.update(),$=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(c)}else h.fragment&&h.fragment.c();e.intro&&A(n.$$.fragment),C(n,e.target,e.anchor,e.customElement),N()}m(f)}class B{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(n){let e,o,r;return{c(){e=p("button"),o=l(n[2]),h(e,"class",r="button "+(n[1]?"span-two":""))},m(t,r){a(t,e,r),u(e,o),n[4](e)},p(t,[n]){4&n&&function(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}(o,t[2]),2&n&&r!==(r="button "+(t[1]?"span-two":""))&&h(e,"class",r)},i:t,o:t,d(t){t&&c(e),n[4](null)}}}function q(t,n,e){let{span:o}=n,{name:r}=n,{type:s}=n,{button:i}=n;return t.$$set=t=>{"span"in t&&e(1,o=t.span),"name"in t&&e(2,r=t.name),"type"in t&&e(3,s=t.type),"button"in t&&e(0,i=t.button)},[i,o,r,s,function(t){y[t?"unshift":"push"]((()=>{i=t,e(0,i)}))}]}class z extends B{constructor(t){super(),O(this,t,q,Q,i,{span:1,name:2,type:3,button:0})}get span(){return this.$$.ctx[1]}set span(t){this.$$set({span:t}),N()}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),N()}get type(){return this.$$.ctx[3]}set type(t){this.$$set({type:t}),N()}get button(){return this.$$.ctx[0]}set button(t){this.$$set({button:t}),N()}}function M(t,n,e){const o=t.slice();return o[13]=n[e],o[14]=n,o[15]=e,o}function P(t){let e,o,r=t[15];const s=[t[13]],i=()=>t[4](e,r),u=()=>t[4](null,r);let a={};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return e=new z({props:a}),i(),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,n){C(e,t,n),o=!0},p(t,n){r!==t[15]&&(u(),r=t[15],i());const o=1&n?function(t,n){const e={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],u=n[s];if(u){for(const t in i)t in u||(o[t]=1);for(const t in u)r[t]||(e[t]=u[t],r[t]=1);t[s]=u}else for(const t in i)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(s,[(a=t[13],"object"==typeof a&&null!==a?a:{})]):{};var a;e.$set(o)},i(t){o||(A(e.$$.fragment,t),o=!0)},o(t){F(e.$$.fragment,t),o=!1},d(t){u(),j(e,t)}}}function G(t){let n,e,o,s,i,l,d,m,$=t[0],g=[];for(let n=0;n<$.length;n+=1)g[n]=P(M(t,$,n));const y=t=>F(g[t],1,1,(()=>{g[t]=null}));return{c(){n=p("main"),e=p("div"),o=p("div"),s=p("div"),i=f(),l=p("div"),d=f();for(let t=0;t<g.length;t+=1)g[t].c();h(s,"class","prev-op"),h(l,"class","curr-op"),h(o,"class","output"),h(e,"class","calcy-grid rounded")},m(r,c){a(r,n,c),u(n,e),u(e,o),u(o,s),t[2](s),u(o,i),u(o,l),t[3](l),u(e,d);for(let t=0;t<g.length;t+=1)g[t].m(e,null);m=!0},p(t,[n]){if(1&n){let o;for($=t[0],o=0;o<$.length;o+=1){const r=M(t,$,o);g[o]?(g[o].p(r,n),A(g[o],1)):(g[o]=P(r),g[o].c(),A(g[o],1),g[o].m(e,null))}for(S={r:0,c:[],p:S},o=$.length;o<g.length;o+=1)y(o);S.r||r(S.c),S=S.p}},i(t){if(!m){for(let t=0;t<$.length;t+=1)A(g[t]);m=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)F(g[t]);m=!1},d(e){e&&c(n),t[2](null),t[3](null),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(g,e)}}}function H(t,n,e){class o{constructor(t,n){this.prevopte=t,this.curropte=n,this.currop="",this.prevop="",this.operation="",this.clear()}clear(){this.currop="",this.prevop="",this.operation=""}delete(){this.currop=this.currop.toString().slice(0,-1)}appendnum(t){"."===t&&this.currop.includes(".")||(this.currop=this.currop.toString()+t.toString())}chooseop(t){""!==this.currop&&(""!==this.prevop&&this.compute(),this.operation=t,this.prevop=this.currop,this.currop="")}compute(){let t;const n=parseFloat(this.prevop),e=parseFloat(this.currop);if(!isNaN(n)&&!isNaN(e)){switch(this.operation){case"+":t=n+e;break;case"-":t=n-e;break;case"*":t=n*e;break;case"/":t=n/e;break;default:return}isFinite(t)&&(this.currop=t.toString(),this.operation="",this.prevop="")}}getDisNum(t){const n=t.toString(),e=parseFloat(n.split(".")[0]),o=parseFloat(n.split(".")[1]);let r;return r=isNaN(e)?"":e.toLocaleString("en",{maximumFractionDigits:0}),isNaN(o)?`${r}`:`${r}.${o}`}updateDisplay(){this.curropte.innerText=this.getDisNum(this.currop),this.prevopte.innerText=`${0!==this.operation.length?this.prevop:""}${0!==this.operation.length?" "+this.operation:""}`}}let r=[{name:"AC",span:!0,type:"function.AC"},{name:"DEL",span:!1,type:"function.DEL"},{name:"/",span:!1,type:"operator"},{name:"1",span:!1,type:"number"},{name:"2",span:!1,type:"number"},{name:"3",span:!1,type:"number"},{name:"*",span:!1,type:"operator"},{name:"4",span:!1,type:"number"},{name:"5",span:!1,type:"number"},{name:"6",span:!1,type:"number"},{name:"+",span:!1,type:"operator"},{name:"7",span:!1,type:"number"},{name:"8",span:!1,type:"number"},{name:"9",span:!1,type:"number"},{name:"-",span:!1,type:"operator"},{name:".",span:!1,type:"number"},{name:"0",span:!1,type:"number"},{name:"=",span:!0,type:"function.EQ"}];var s,i,u,a,c;const p=[];var l,f;return $((async()=>{s=r.filter((t=>"number"===t.type)),i=r.filter((t=>"operator"===t.type)),u=r.find((t=>"function.EQ"===t.type)),a=r.find((t=>"function.AC"===t.type)),c=r.find((t=>"function.DEL"===t.type)),f=p[0],l=p[1];const t=new o(f,l);s.forEach((n=>{n.button.addEventListener("click",(e=>{t.appendnum(n.name),t.updateDisplay()}))})),i.forEach((n=>{n.button.addEventListener("click",(e=>{t.chooseop(n.name),t.updateDisplay()}))})),u.button.addEventListener("click",(n=>{t.compute(),t.updateDisplay()})),a.button.addEventListener("click",(n=>{t.clear(),t.updateDisplay()})),c.button.addEventListener("click",(n=>{t.delete(),t.updateDisplay()}))})),[r,p,function(t){y[t?"unshift":"push"]((()=>{p[0]=t,e(1,p)}))},function(t){y[t?"unshift":"push"]((()=>{p[1]=t,e(1,p)}))},function(t,n){y[t?"unshift":"push"]((()=>{r[n]=t,e(0,r)}))}]}return new class extends B{constructor(t){super(),O(this,t,H,G,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
